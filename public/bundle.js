var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function u(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function p(){return m(" ")}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}let g;function x(t){g=t}const w=[],$=[],y=[],v=[],b=Promise.resolve();let M=!1;function _(t){y.push(t)}let k=!1;const S=new Set;function E(){if(!k){k=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];x(e),A(e.$$)}for(w.length=0;$.length;)$.pop()();for(let t=0;t<y.length;t+=1){const e=y[t];S.has(e)||(S.add(e),e())}y.length=0}while(w.length);for(;v.length;)v.pop()();M=!1,k=!1,S.clear()}}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const D=new Set;let L;function j(t,e){t&&t.i&&(D.delete(t),t.i(e))}function C(t,e,n,o){if(t&&t.o){if(D.has(t))return;D.add(t),L.c.push(()=>{D.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function N(t){t&&t.c()}function H(t,n,s){const{fragment:r,on_mount:a,on_destroy:l,after_update:c}=t.$$;r&&r.m(n,s),_(()=>{const n=a.map(e).filter(i);l?l.push(...n):o(n),t.$$.on_mount=[]}),c.forEach(_)}function z(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B(t,e){-1===t.$$.dirty[0]&&(w.push(t),M||(M=!0,b.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function P(e,i,s,r,a,l,d=[-1]){const u=g;x(e);const m=i.props||{},p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:d};let f=!1;if(p.ctx=s?s(e,m,(t,n,...o)=>{const i=o.length?o[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=i)&&(p.bound[t]&&p.bound[t](i),f&&B(e,t)),n}):[],p.update(),f=!0,o(p.before_update),p.fragment=!!r&&r(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();i.intro&&j(e.$$.fragment),H(e,i.target,i.anchor),E()}x(u)}class O{$destroy(){z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const T=[];function I(e,n=t){let o;const i=[];function r(t){if(s(e,t)&&(e=t,o)){const t=!T.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),T.push(n,e)}if(t){for(let t=0;t<T.length;t+=2)T[t][0](T[t+1]);T.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,a=t){const l=[s,a];return i.push(l),1===i.length&&(o=n(r)||t),s(e),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}const V=I("..."),q=I({id:0,temp:"-",humidity:"",windSpeed:""}),F=I({id:[0,0,0,0,0],temp_max:["-","-","-","-","-"],temp:["-","-","-","-","-"],temp_min:["-","-","-","-","-"],updated:!1});function J(e){let n,o,i,s,r,g,x,w,$,y;return{c(){n=d("header"),o=d("div"),i=d("div"),s=m(e[0]),r=p(),g=d("div"),x=u("svg"),w=u("path"),$=u("path"),f(i,"class","w-full text-center text-xl font-bold"),f(w,"fill","none"),f(w,"d","M24 0H0v24h24z"),f($,"d","M17.66 7.93L12 2.27 6.34 7.93c-3.12 3.12-3.12 8.19 0 11.31C7.9 20.8 9.95 21.58 12 21.58c2.05 0 4.1-.78 5.66-2.34 3.12-3.12 3.12-8.19 0-11.31zM12 19.59c-1.6 0-3.11-.62-4.24-1.76C6.62 16.69 6 15.19 6 13.59s.62-3.11 1.76-4.24L12 5.1v14.49z"),f(x,"class","h-8 w-8 fill-current mx-auto cursor-pointer"),f(x,"viewBox","0 0 24 24"),f(g,"class","w-full pt-2"),f(o,"class","container flex flex-wrap items-center"),f(n,"class","pt-1 xl:py-4")},m(t,e,c){var d,u,m,p;l(t,n,e),a(n,o),a(o,i),a(i,s),a(o,r),a(o,g),a(g,x),a(x,w),a(x,$),c&&y(),u="click",m=U,(d=x).addEventListener(u,m,p),y=()=>d.removeEventListener(u,m,p)},p(t,[e]){1&e&&h(s,t[0])},i:t,o:t,d(t){t&&c(n),y()}}}function U(){document.body.classList.toggle("dark")}function Y(t,e,n){let o;return r(t,V,t=>n(0,o=t)),[o]}class G extends O{constructor(t){super(),P(this,t,Y,J,s,{})}}function K(t){let e,n,o,i,s,r,u,g,x,w=t[4].humidity+"",$=t[4].windSpeed+"";return{c(){e=d("span"),n=m("Humedad de "),o=m(w),i=m("%"),s=p(),r=d("span"),u=m("Vientos de "),g=m($),x=m("km/hr"),f(e,"class","pt-2"),f(r,"class","pt-2")},m(t,c){l(t,e,c),a(e,n),a(e,o),a(e,i),l(t,s,c),l(t,r,c),a(r,u),a(r,g),a(r,x)},p(t,e){16&e&&w!==(w=t[4].humidity+"")&&h(o,w),16&e&&$!==($=t[4].windSpeed+"")&&h(g,$)},d(t){t&&c(e),t&&c(s),t&&c(r)}}}function Q(e){let n,o,i,s,r,u,g,x,w,$,y,v,b,M,_,k,S,E,A=e[4].temp+"",D="-"!==e[4].temp?"°":"",L=""!==e[4].humidity&&""!==e[4].windSpeed&&K(e);return{c(){n=d("div"),o=d("div"),o.textContent="Hoy",i=p(),s=d("div"),r=d("span"),u=m(A),g=m(D),x=p(),w=d("span"),$=m(e[0]),y=p(),v=d("div"),b=d("div"),L&&L.c(),M=p(),_=d("div"),k=d("img"),f(o,"class","text-center"),f(r,"class","text-5xl font-semibold mx-auto py-2"),f(w,"class","mx-auto"),f(b,"class","w-1/2 flex flex-col text-center pt-8 font-thin"),k.src!==(S=`./images/${e[1]}.png`)&&f(k,"src",S),f(k,"alt",e[2]),f(_,"class","w-1/2"),f(v,"class","flex flex-wrap"),f(s,"class",E=`${e[3]} flex flex-col text-white rounded-xxl shadow-xl`),f(n,"class","container max-w-sm w-full py-6 xs:py-12 xl:py-16 px-4")},m(t,e){l(t,n,e),a(n,o),a(n,i),a(n,s),a(s,r),a(r,u),a(r,g),a(s,x),a(s,w),a(w,$),a(s,y),a(s,v),a(v,b),L&&L.m(b,null),a(v,M),a(v,_),a(_,k)},p(t,[e]){16&e&&A!==(A=t[4].temp+"")&&h(u,A),16&e&&D!==(D="-"!==t[4].temp?"°":"")&&h(g,D),1&e&&h($,t[0]),""!==t[4].humidity&&""!==t[4].windSpeed?L?L.p(t,e):(L=K(t),L.c(),L.m(b,null)):L&&(L.d(1),L=null),2&e&&k.src!==(S=`./images/${t[1]}.png`)&&f(k,"src",S),4&e&&f(k,"alt",t[2]),8&e&&E!==(E=`${t[3]} flex flex-col text-white rounded-xxl shadow-xl`)&&f(s,"class",E)},i:t,o:t,d(t){t&&c(n),L&&L.d()}}}function R(t,e,n){let o;r(t,q,t=>n(4,o=t));let i=".",s="unknown",a="clima desconocido",l="moonlit-asteroid";return t.$$.update=()=>{if(16&t.$$.dirty&&0!==o.id){let t=[];o.id.toString().split("").forEach(e=>t.push(e)),fetch(`https://erianvc.github.io/API/weather-app/data/group${t[0]}xx.json`).then(t=>t.json()).then(t=>{t.forEach(t=>{t.id===o.id&&(n(0,i=t.title),n(1,s=t.image),n(2,a=t.description))})}).catch(t=>console.log(t))}16&t.$$.dirty&&"-"!==o.temp&&(o.temp>35&&n(3,l="flare"),o.temp>25&&o.temp<36&&n(3,l="blooker-20"),o.temp>10&&o.temp<26&&n(3,l="blue-sky"),o.temp<11&&n(3,l="cool-sky"))},[i,s,a,l,o]}class W extends O{constructor(t){super(),P(this,t,R,Q,s,{})}}function X(e){let n,o,i,s,r,g,x,w,$,y,v,b,M,_,k,S,E,A,D,L,j,C,N,H,z,B,P,O,T,I,V,q,F,J,U=("-"!==e[1]?`${e[1]}°`:e[1])+"",Y=("-"!==e[2]?`${e[2]}°`:e[2])+"",G=("-"!==e[3]?`${e[3]}°`:e[3])+"";return{c(){n=d("div"),o=d("div"),i=m(e[0]),s=p(),r=d("img"),x=p(),w=d("div"),$=m(U),y=p(),v=d("div"),b=d("div"),M=d("div"),M.innerHTML='<svg class="h-6 w-6 mx-auto fill-current text-white"><use href="#arrow-down"></use></svg>',_=p(),k=d("div"),S=m(Y),E=p(),A=d("div"),D=d("div"),D.innerHTML='<svg class="h-6 w-6 mx-auto fill-current text-white"><use href="#arrow-up"></use></svg>',L=p(),j=d("div"),C=m(G),H=p(),z=u("svg"),B=u("defs"),P=u("symbol"),O=u("title"),T=m("Arrow Down"),I=u("path"),V=u("symbol"),q=u("title"),F=m("Arrow Up"),J=u("path"),f(o,"class","py-2"),f(r,"class","h-16 mx-auto"),r.src!==(g="./images/"+e[4]+".png")&&f(r,"src",g),f(r,"alt",e[5]),f(w,"class","text-lg"),f(M,"class","w-full"),f(k,"class","w-full"),f(b,"class","w-1/2"),f(D,"class","w-full"),f(j,"class","w-full"),f(A,"class","w-1/2"),f(v,"class","flex flex-wrap"),f(n,"class",N=`${e[6]} flex-none w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6 h-48 mx-3 lg:mx-4 text-white rounded-xl shadow-md`),f(I,"d","M4.5 7.5c.5-.4 1-.4 1.6 0l3.9 3.8 4-3.8c.4-.4 1-.4 1.5 0 .4.5.4 1.2 0 1.7l-4.7 4.5a1 1 0 01-1.6 0L4.5 9.2c-.4-.5-.4-1.2 0-1.7z"),f(P,"id","arrow-down"),f(P,"viewBox","0 0 20 20"),f(J,"d","M15.5 12.5c-.5.4-1 .4-1.6 0L10 8.7l-4 3.8c-.4.4-1 .4-1.5 0-.4-.5-.4-1.2 0-1.7l4.7-4.5a1 1 0 011.6 0l4.7 4.5c.4.5.4 1.2 0 1.7z"),f(V,"id","arrow-up"),f(V,"viewBox","0 0 20 20"),f(z,"hidden","hidden")},m(t,e){l(t,n,e),a(n,o),a(o,i),a(n,s),a(n,r),a(n,x),a(n,w),a(w,$),a(n,y),a(n,v),a(v,b),a(b,M),a(b,_),a(b,k),a(k,S),a(v,E),a(v,A),a(A,D),a(A,L),a(A,j),a(j,C),l(t,H,e),l(t,z,e),a(z,B),a(B,P),a(P,O),a(O,T),a(P,I),a(B,V),a(V,q),a(q,F),a(V,J)},p(t,[e]){1&e&&h(i,t[0]),16&e&&r.src!==(g="./images/"+t[4]+".png")&&f(r,"src",g),32&e&&f(r,"alt",t[5]),2&e&&U!==(U=("-"!==t[1]?`${t[1]}°`:t[1])+"")&&h($,U),4&e&&Y!==(Y=("-"!==t[2]?`${t[2]}°`:t[2])+"")&&h(S,Y),8&e&&G!==(G=("-"!==t[3]?`${t[3]}°`:t[3])+"")&&h(C,G),64&e&&N!==(N=`${t[6]} flex-none w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/6 h-48 mx-3 lg:mx-4 text-white rounded-xl shadow-md`)&&f(n,"class",N)},i:t,o:t,d(t){t&&c(n),t&&c(H),t&&c(z)}}}function Z(t,e,n){let{updated:o}=e,{id:i}=e,{dayName:s}=e,{temp:r}=e,{tempMin:a}=e,{tempMax:l}=e,c=".",d="unknown",u="clima desconocido",m="moonlit-asteroid";return t.$set=t=>{"updated"in t&&n(7,o=t.updated),"id"in t&&n(8,i=t.id),"dayName"in t&&n(0,s=t.dayName),"temp"in t&&n(1,r=t.temp),"tempMin"in t&&n(2,a=t.tempMin),"tempMax"in t&&n(3,l=t.tempMax)},t.$$.update=()=>{if(384&t.$$.dirty&&o){let t=[];i.toString().split("").forEach(e=>t.push(e)),fetch(`https://erianvc.github.io/API/weather-app/data/group${t[0]}xx.json`).then(t=>t.json()).then(t=>{t.forEach(t=>{t.id===i&&(c=t.title,n(4,d=t.image),n(5,u=t.description))})}).catch(t=>console.log(t))}2&t.$$.dirty&&"-"!==r&&(r>35&&n(6,m="flare"),r>25&&r<36&&n(6,m="blooker-20"),r>10&&r<26&&n(6,m="blue-sky"),r<11&&n(6,m="cool-sky"))},[s,r,a,l,d,u,m,o,i]}class tt extends O{constructor(t){super(),P(this,t,Z,X,s,{updated:7,id:8,dayName:0,temp:1,tempMin:2,tempMax:3})}}function et(t,e,n){const o=t.slice();return o[6]=e[n],o[8]=n,o}function nt(t){let e;const n=new tt({props:{updated:t[0].updated,id:t[0].id[t[8]],dayName:t[1][t[8]],temp:t[0].temp[t[8]],tempMin:t[0].temp_min[t[8]],tempMax:t[0].temp_max[t[8]]}});return{c(){N(n.$$.fragment)},m(t,o){H(n,t,o),e=!0},p(t,e){const o={};1&e&&(o.updated=t[0].updated),1&e&&(o.id=t[0].id[t[8]]),1&e&&(o.temp=t[0].temp[t[8]]),1&e&&(o.tempMin=t[0].temp_min[t[8]]),1&e&&(o.tempMax=t[0].temp_max[t[8]]),n.$set(o)},i(t){e||(j(n.$$.fragment,t),e=!0)},o(t){C(n.$$.fragment,t),e=!1},d(t){z(n,t)}}}function ot(t){let e,n,i,s,r,u,m,h,g=Array(5),x=[];for(let e=0;e<g.length;e+=1)x[e]=nt(et(t,g,e));const w=t=>C(x[t],1,1,()=>{x[t]=null});return{c(){e=d("div"),e.textContent="Pronóstico de la semana",n=p(),i=d("div"),s=d("div"),s.textContent="Don't see me",r=p();for(let t=0;t<x.length;t+=1)x[t].c();u=p(),m=d("div"),m.textContent="Don't see me",f(e,"class","pt-2 text-center text-lg font-bold"),f(s,"class","flex-none w-1/5 sm:w-1/3 md:w-2/5 md:-mx-4 invisible lg:hidden"),f(m,"class","flex-none w-1/5 sm:w-1/3 md:w-2/5 md:-mx-4 invisible lg:hidden"),f(i,"class","flex flex-no-wrap lg:flex-wrap justify-between lg:justify-center pt-4 pb-2 xs:pb-4 overflow-y-hidden text-center")},m(t,o){l(t,e,o),l(t,n,o),l(t,i,o),a(i,s),a(i,r);for(let t=0;t<x.length;t+=1)x[t].m(i,null);a(i,u),a(i,m),h=!0},p(t,[e]){if(3&e){let n;for(g=Array(5),n=0;n<g.length;n+=1){const o=et(t,g,n);x[n]?(x[n].p(o,e),j(x[n],1)):(x[n]=nt(o),x[n].c(),j(x[n],1),x[n].m(i,u))}for(L={r:0,c:[],p:L},n=g.length;n<x.length;n+=1)w(n);L.r||o(L.c),L=L.p}},i(t){if(!h){for(let t=0;t<g.length;t+=1)j(x[t]);h=!0}},o(t){x=x.filter(Boolean);for(let t=0;t<x.length;t+=1)C(x[t]);h=!1},d(t){t&&c(e),t&&c(n),t&&c(i),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(x,t)}}}function it(t,e,n){let o;r(t,F,t=>n(0,o=t));const i=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],s=(new Date).getDay(),a=function(){let t=[];for(let e=s+1;e<s+6;e++)if(e>6){const n=i[e-7];t.push(n)}else{const n=i[e];t.push(n)}return t}();return[o,a]}class st extends O{constructor(t){super(),P(this,t,it,ot,s,{})}}function rt(e){let n,o,i;const s=new G({}),r=new W({}),a=new st({});return{c(){N(s.$$.fragment),n=p(),N(r.$$.fragment),o=p(),N(a.$$.fragment)},m(t,e){H(s,t,e),l(t,n,e),H(r,t,e),l(t,o,e),H(a,t,e),i=!0},p:t,i(t){i||(j(s.$$.fragment,t),j(r.$$.fragment,t),j(a.$$.fragment,t),i=!0)},o(t){C(s.$$.fragment,t),C(r.$$.fragment,t),C(a.$$.fragment,t),i=!1},d(t){z(s,t),t&&c(n),z(r,t),t&&c(o),z(a,t)}}}const at={enableHighAccuracy:!1,maximumAge:3e4,timeout:3e3};async function lt(){let t=await async function(){return await fetch("/.netlify/functions/ipclient").then(t=>t.json())}().then(t=>t.loc.split(",")),e=await ct("weather",t[0].trim(),t[1].trim()),n=await ct("forecast",t[0].trim(),t[1].trim());dt(`${e.name}, ${e.sys.country}`),ut(e),mt(n)}async function ct(t,e,n){return await fetch(`/.netlify/functions/weather?mode=${t}&lat=${e}&lon=${n}`).then(t=>t.json())}function dt(t){V.update(e=>t)}function ut(t){let e={id:t.weather[0].id,temp:t.main.temp,humidity:t.main.humidity,windSpeed:t.wind.speed};q.update(t=>e)}function mt(t){let e=function(t){let e=function(){const t=new Date;let e=[];for(let n=0;n<6;n++){const o=new Date(t);o.setDate(o.getDate()+n);const i=`${o.getFullYear()}-${(o.getMonth()+1).toString().padStart(2,"00")}-${o.getDate().toString().padStart(2,"00")}`;e.push(i)}return e}(),n=[{day:e[1],ids:[],temps:[[],[],[]]},{day:e[2],ids:[],temps:[[],[],[]]},{day:e[3],ids:[],temps:[[],[],[]]},{day:e[4],ids:[],temps:[[],[],[]]},{day:e[5],ids:[],temps:[[],[],[]]}];t.list.forEach(t=>{n.forEach(e=>{t.dt_txt.includes(e.day)&&(e.ids.push(t.weather[0].id),e.temps[0].push(t.main.temp_min),e.temps[1].push(t.main.temp),e.temps[2].push(t.main.temp_max))})});let o=[null];for(let t=0;t<n.length;t++)o.push({id:(i=n[t].ids,i[Math.floor(i.length/2)]),tempMin:Math.round(Math.min(...n[t].temps[0])),temp:Math.round(pt(n[t].temps[1])),tempMax:Math.round(Math.max(...n[t].temps[2]))});var i;return o}(t),n={id:[e[1].id,e[2].id,e[3].id,e[4].id,e[5].id],temp_max:[e[1].tempMax,e[2].tempMax,e[3].tempMax,e[4].tempMax,e[5].tempMax],temp:[e[1].temp,e[2].temp,e[3].temp,e[4].temp,e[5].temp],temp_min:[e[1].tempMin,e[2].tempMin,e[3].tempMin,e[4].tempMin,e[5].tempMin],updated:!0};F.update(t=>n)}function pt(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return Math.round(e/t.length)}return async function(){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((async function(t){let e=await ct("weather",t.coords.latitude,t.coords.longitude),n=await ct("forecast",t.coords.latitude,t.coords.longitude);dt(`${e.name}, ${e.sys.country}`),ut(e),mt(n)}),lt,at):lt();window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.toggle("dark")}(),new class extends O{constructor(t){super(),P(this,t,null,rt,s,{})}}({target:document.body})}();
